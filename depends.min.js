this.depends=function(e,t){var n,r,i;n=function(e,t,i){return t>=e.length-1?r(e[t],i):r(e[t],function(){return n(e,t+1,i)})},r=function(e,t){var s,o,u;if(typeof e=="string"){s=e.replace(/.+\/|\.min\.js|\.js|\?.+|\W/gi,"");if(i[s]==null)return i[s]=u=document.createElement("script"),u.onload=u.onreadystatechange=function(){if(this.readyState==null||/^complete$|^loaded$/.test(this.readyState))return this.onload=this.onreadystatechange=null,t&&t()},u.src=e,document.getElementsByTagName("head")[0].appendChild(u)}else{if(e instanceof Array)return n(e,0,t);if(e.url!=null)return o=function(){return r(e.url,function(){return t&&t()})},e.unless==null||typeof e.unless=="function"&&!e.unless()?e.depends==null?o():r(e.depends,o):t&&t()}},i={},r(e,typeof t=="function"?t:void 0)};